<form
  (ngSubmit)="onSubmit()"
  tuiAppearance="floating"
  tuiCardLarge
  tuiForm="m"
  [formGroup]="loginForm"
>
  <header tuiHeader>
    <h2 tuiTitle>{{ isLoginMode ? 'Вход' : 'Регистрация' }}</h2>
  </header>
  <tui-textfield>
    <label tuiLabel>Email</label>
    <input tuiTextfield type="email" formControlName="email">
    <tui-icon icon="@tui.mail" />
  </tui-textfield>

  <tui-textfield>
    <label tuiLabel>Пароль</label>
    <input tuiTextfield type="password" formControlName="password" placeholder="Минимум 8 символов">
    <tui-icon icon="@tui.key" />
  </tui-textfield>

  @if (!isLoginMode) {
    <tui-textfield>
      <label tuiLabel>Пароль</label>
      <input tuiTextfield type="password" formControlName="confirmPassword">
      <tui-icon icon="@tui.key" />
    </tui-textfield>
  }

  <tui-error [error]="error()"></tui-error>

  <footer>
    <button
      tuiButton
      [disabled]="loginForm.invalid"
      type="submit"
    >
      {{ isLoginMode ? 'Войти' : 'Зарегистрироваться' }}
    </button>
    <button
      appearance="flat"
      tuiButton
      type="button"
      (click)="toggleMode()"
    >
      => {{ isLoginMode ? 'Зарегистрироваться' : 'Войти' }}
    </button>
  </footer>
</form>
